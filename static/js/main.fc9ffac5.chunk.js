(this.webpackJsonpkatarite=this.webpackJsonpkatarite||[]).push([[0],{36:function(t,e,c){},37:function(t,e,c){},42:function(t,e,c){},43:function(t,e,c){},44:function(t,e,c){},45:function(t,e,c){},70:function(t,e,c){},71:function(t,e,c){},72:function(t,e,c){},73:function(t,e,c){},74:function(t,e,c){},75:function(t,e,c){},76:function(t,e,c){},77:function(t,e,c){},78:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c(1),i=c.n(a),r=c(28),s=c.n(r),j=(c(36),c(6)),o=c(2),d=c(7),l=(c(37),function(t){var e=t.text,c=t.url,a=void 0===c?"#":c;return Object(n.jsx)("li",{children:Object(n.jsx)(j.c,{to:a,activeClassName:"active",children:e})})}),u=(c(42),c.p+"static/media/cart.891d6e79.svg"),b=c(15),O=i.a.createContext();function x(t){var e=t.children,c=Object(a.useState)({cantidadTotal:0,data:[]}),i=Object(d.a)(c,2),r=i[0],s=i[1];return Object(n.jsx)(O.Provider,{value:{cart:r,setCart:s,addToCart:function(t,e){var c=r.findIndex((function(e){return e.prod.id===t.id}));if(-1===c)s((function(c){return[].concat(Object(b.a)(c),[{prod:t,cant:e}])}));else{var n=Object(b.a)(r);n[c].cant+=e,s(n)}},cartLength:function(){return r.reduce((function(t,e){return t+e.cant}),0)},cartPrice:function(){return r.reduce((function(t,e){return t+e.cant*e.prod.price}),0)},dropCart:function(){s({cantidadTotal:0,data:[]})}},children:e})}var h=function(t){var e=t.action,c=Object(a.useContext)(O).cart;return Object(n.jsxs)("div",{className:"navCart",onClick:e,children:[Object(n.jsx)("img",{src:u,width:"40",alt:"cart"}),Object(n.jsx)("span",{children:c.cantidadTotal})]})};var f=function(t){var e=t.titulo,c=t.action;return Object(n.jsx)("nav",{children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h1",{children:Object(n.jsx)(j.b,{to:"/",children:e})}),Object(n.jsx)("p",{children:"LIBROS"}),Object(n.jsx)("ul",{children:[{texto:"Terror",ruta:"/terror"},{texto:"Ciencia Ficci\xf3n",ruta:"/ciencia-ficcion"},{texto:"Fantas\xeda",ruta:"/fantasia"},{texto:"Misterio",ruta:"/misterio"}].map((function(t,e){return Object(n.jsx)(l,{text:t.texto,url:t.ruta},e)}))}),Object(n.jsx)(h,{action:c,qty:1})]})})},p=c(9),m=(c(43),function(t){var e=t.show,c=t.action,i=Object(a.useContext)(O),r=i.dropCart,s=i.cart,j=i.setCart;return Object(n.jsxs)("div",{className:"widgetCart ".concat(e?"open":"close"),children:[s.data.map((function(t){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{children:t.data.title}),Object(n.jsx)("p",{children:t.data.author}),Object(n.jsx)("p",{children:t.data.price}),Object(n.jsx)("p",{children:t.id}),Object(n.jsx)("button",{onClick:function(){!function(t){var e=s.data.filter((function(e){return e.id!==t}));j(Object(p.a)(Object(p.a)({},s),{},{data:e}))}(t.id)},children:"Eliminar"})]})})),Object(n.jsx)("button",{onClick:c,style:{padding:5},children:"x"}),Object(n.jsx)("button",{onClick:function(){return r()},children:"Vaciar Carrito"})]})}),g=function(){var t=Object(a.useState)(!1),e=Object(d.a)(t,2),c=e[0],i=e[1],r=function(){i(!c)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f,{titulo:"KATARITE",action:r}),Object(n.jsx)(m,{show:c,action:r})]})},v=(c(44),function(t){var e=t.prods,c=t.genre_name,a=e.filter((function(t){return t.data.genre===c}));return Object(n.jsx)(n.Fragment,{children:a.map((function(t){return Object(n.jsxs)("article",{className:"productCard",children:[Object(n.jsx)("img",{src:t.data.image,alt:"productos"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:t.data.title}),Object(n.jsxs)("p",{children:["$",t.data.price]}),Object(n.jsx)(j.b,{to:"/".concat(t.data.title.replaceAll(" ","-").toLowerCase(),"/").concat(t.id),children:"Ver detalle"})]})]})}))})}),N=(c(45),c(22)),C=(c(48),N.initializeApp({apiKey:"AIzaSyDnvtILNNV6g_KXCNMhnBd11-Lx6qOPx64",authDomain:"katarite.firebaseapp.com",projectId:"katarite",storageBucket:"katarite.appspot.com",messagingSenderId:"274931686380",appId:"1:274931686380:web:3948b081f8b32070b6bec9"}));function k(){return N.firestore(C)}var S=function(){var t=Object(a.useState)([]),e=Object(d.a)(t,2),c=e[0],i=e[1],r=k();return Object(a.useEffect)((function(){r.collection("items").where("outstanding","==",!0).get().then((function(t){var e=[];t.forEach((function(t){e.push({id:t.id,data:t.data()})})),i(e)})).catch((function(t){return console.log(t)}))})),Object(n.jsx)("section",{className:"featuredProducts",children:Object(n.jsx)("div",{className:"container",children:c.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:"Productos destacados"}),Object(n.jsx)("ul",{children:c.map((function(t){return Object(n.jsx)("li",{children:Object(n.jsx)(v,{id:t.id,image:t.data.image,titulo:t.data.title,precio:t.data.price})},t.id)}))})]}):Object(n.jsx)("p",{className:"cargando",children:"Cargando items..."})})})},w=c(30),y=c.n(w),T=(c(68),c(69),c(70),c.p+"static/media/libro1.e47abd1d.jpg"),E=c.p+"static/media/libro2.b7808989.jpg",_=c.p+"static/media/libro3.0fc82f56.jpg",F=function(){return Object(n.jsx)("section",{className:"slider",children:Object(n.jsxs)(y.a,Object(p.a)(Object(p.a)({},{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:T,alt:"Slide 1",className:"slider_img"})}),Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:E,alt:"Slide 1",className:"slider_img"})}),Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:_,alt:"Slide 1",className:"slider_img"})})]}))})},I=(c(71),function(){return Object(n.jsx)("section",{className:"newsletter",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h2",{children:"\xa1Suscribite a nuestro newsletter!"}),Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{type:"text",placeholder:"E-mail"}),Object(n.jsx)("input",{type:"submit",value:"Enviar"})]})]})})}),P=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(F,{}),Object(n.jsx)(S,{}),Object(n.jsx)(I,{})]})},A=(c(72),function(t){var e=t.prods,c=t.genre_name;return Object(n.jsx)("section",{className:"products",children:Object(n.jsx)("ul",{children:Object(n.jsx)("li",{children:Object(n.jsx)(v,{prods:e,genre_name:c})})})})}),L=(c(73),function(){var t=Object(o.f)().genre_name,e=Object(a.useState)([]),c=Object(d.a)(e,2),i=c[0],r=c[1],s=k();return Object(a.useEffect)((function(){s.collection("items").get().then((function(t){var e=[];t.forEach((function(t){e.push({id:t.id,data:t.data()})})),r(e)}))}),[]),Object(n.jsxs)("section",{className:"category",children:[Object(n.jsx)("h2",{children:t.split("-").join(" ")}),Object(n.jsx)(A,{prods:i,genre_name:t})]})}),B=(c(74),function(t){var e=t.product,c=Object(a.useState)(1),i=Object(d.a)(c,2),r=i[0],s=i[1],j=Object(a.useContext)(O),o=j.cart,l=j.setCart;return Object(n.jsxs)("article",{className:"product",children:[Object(n.jsx)("div",{className:"foto",children:Object(n.jsx)("img",{src:e.data.image,alt:""})}),Object(n.jsxs)("div",{className:"info",children:[Object(n.jsx)("h1",{className:"title",children:e.data.title}),Object(n.jsx)("span",{children:e.data.price}),Object(n.jsxs)("div",{className:"contador",children:[Object(n.jsx)("button",{onClick:function(){0!==r&&s((function(){return r-1}))},children:"-"}),Object(n.jsx)("p",{children:r}),Object(n.jsx)("button",{onClick:function(){return s((function(){return r+1}))},children:"+"})]}),Object(n.jsx)("button",{onClick:function(){return console.log(o),l(Object(p.a)(Object(p.a)({},o),{},{cantidadTotal:o.cantidadTotal+r,data:[].concat(Object(b.a)(o.data),[e])})),void console.log(o)},className:"btn",children:"Agregar al carrito"})]})]})}),z=(c(75),function(){var t=Object(o.f)().id,e=Object(a.useState)(null),c=Object(d.a)(e,2),i=c[0],r=c[1],s=k();return Object(a.useEffect)((function(){s.collection("items").doc(t).get().then((function(e){e.exists&&r({id:t,data:e.data()})})).catch((function(t){return console.log(t)})),console.log(i)}),[]),Object(n.jsx)(n.Fragment,{children:i?Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("ol",{className:"breadcrum",children:Object(n.jsx)("li",{children:i.data.title})}),Object(n.jsx)(B,{product:i})]}):Object(n.jsx)("p",{children:"cargando productos"})})}),K=(c(76),function(){var t=Object(a.useContext)(O).cartPrice;return Object(n.jsxs)("section",{className:"cart",children:[Object(n.jsx)("h1",{children:"Cart"}),Object(n.jsxs)("div",{className:"final",children:[Object(n.jsxs)("p",{children:["Precio total: ",t]}),Object(n.jsx)(j.b,{to:"/checkout",children:"Finalizar compra"})]})]})}),M=(c(77),function(){return Object(n.jsx)("section",{className:"checkout",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h2",{children:"Checkout"}),Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{type:"text",name:"nombre",placeholder:"Nombre"}),Object(n.jsx)("input",{type:"text",name:"apellido",placeholder:"Apellido"}),Object(n.jsx)("input",{type:"email",name:"email",placeholder:"E-mail"}),Object(n.jsx)("input",{type:"tel",name:"tel",placeholder:"Tel\xe9fono"}),Object(n.jsx)("button",{children:"Pagar"})]})]})})}),V=function(){return Object(n.jsx)(x,{children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(g,{}),Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{exact:!0,path:"/",children:Object(n.jsx)(P,{})}),Object(n.jsx)(o.a,{path:"/cart",children:Object(n.jsx)(K,{})}),Object(n.jsx)(o.a,{path:"/checkout",children:Object(n.jsx)(M,{})}),Object(n.jsx)(o.a,{exact:!0,path:"/:genre_name",children:Object(n.jsx)(L,{})}),Object(n.jsx)(o.a,{exact:!0,path:"/:genre_name/:id",children:Object(n.jsx)(z,{})})]})]})})};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(V,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.fc9ffac5.chunk.js.map